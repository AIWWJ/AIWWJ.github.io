---
layout: post
title: "react小例子"
date: 2018-02-02
description: "根据React官网文档中的例子"
tag: React
---
***
## 安装本地开发环境

### node/npm的安装

![](/images/posts/react/node.png "下载node.js")

首先打开 [Node.js](https://nodejs.org/zh-cn/) 的官网。网站会根据你的操作系统自动匹配相应的安装包，选择下载 LTS 版本。安装包下载完成之后，双击打开，一路点击下一步，全部默认设置，如果中途不出现任何意外，node 以及 npm 会顺利地安装在你的电脑上。

此时可通过 `win` 键 + `r `打开运行，输入` cmd `后回车。windows的命令行会被打开，输入：
	
	node -v
	npm -v
	
来检验一下 node/npm 是否安装正确。

### 使用npm淘宝源

由于 npm 官方的服务器在国外，在国内使用可能会遇到很多网络问题，而且速度也非常慢，为了方便我们的开发，我们需要手动切换 npm 到国内的镜像源。国内最稳定的镜像源是淘宝提供的。

淘宝npm镜像的地址是：`https://registry.npm.taobao.org`

通过在命令行中输入：
	
	npm config set registry https://registry.npm.taobao.org
	
来修改 npm 默认的安装源，通过：
	
	npm config get registry
	
来检验刚刚的配置是否成功。

### 安装cnpm

除此之外，我们还可以使用淘宝镜像提供的 cnpm 工具，通过 `cnpm` 来安装一般速度会更快一些，直接复制下行命令：
	
	npm install -g cnpm --registry=https://registry.npm.taobao.org
	
到命令行中回车进行安装，初次安装需要等待的时间可能会比较久，一定要有**耐心**。

等待安装完成之后，我们可以在命令行输入 `cnpm -v `来测试是否安装成功。

接下来要用npm安装React：

## 初始化react项目

在这里，我们使用 React 官方提供的命令行脚手架工具 `create-react-app` 生成我们的初始项目，我们可以通过 `npm` 来安装 `create-react-app`
	
	npm install create-react-app -g
	
安装完成之后就可以在命令行使用 `create-react-app` 了，首先选择一个合适的目录，然后在该目录下打开命令行，只需输入如下命令：
	
	create-react-app sortgoods
	
就可以生成一个名为 `sortgoods` 的 React 项目。`create-react-app` 默认会为我们把绝大多数的依赖全部都安装好。

**npm命名限制名称中不能包含大写字母**，因此上面的项目名不能为sortGoods。注意，**此错误只针对create-react-app命令**

项目生成成功之后，我们在命令行中输入：
	
	cd sortgoods
	
即可进入项目目录。接下来再输入：
	
	npm start
	
这个命令会启动一个开发模式的服务器，同时会让你的浏览器自动打开一个网页，指向本机地址：`http://localhost:3000`，显示界面如下图：

![](/images/posts/react/react.png "由create-react-app创建的React应用界面")

## 设计项目原型图

在开发一个应用之前，我们要知道应用的原型大概是怎样的，然后才能更好地进行开发：

![](/images/posts/react/react-example-ui.png "sortgoods原型图")

上面的图是从react官网文档目录下的[React理念](https://doc.react-china.org/docs/thinking-in-react.html)复制而来

介绍几个设计原型的软件给有需要的小伙伴：
* [Axure RP](https://www.axure.com/)
* [Adobe Photoshop CC](https://www.adobe.com/cn/products/photoshop.html)
* [Sketch](https://www.sketchapp.com/)

在线原型制作工具：
* [Mockplus](https://www.mockplus.cn/)
* [墨刀](https://modao.cc/)
* [balsamiq mockups](https://balsamiq.com/products/)

## 撸起袖子干

### 将UI界面进行组件层级的划分

![](/images/posts/react/component-show.png "组件层级划分")

如图我们可以看到，应用中有5个组件。我们把每个组件展示的数据用斜体表示。

1. FilterableProductTable (橙色): *包含了整个例子*

2. SearchBar (蓝色): *接受所有的用户输入*

3. ProductTable (绿色): *根据用户输入过滤并展示数据集合*

4. ProductCategoryRow (绿松石色): *展示每个分类的标题*

5. ProductRow (红色): *用行来展示每个产品*

现在我们已经确定了原型图中的组件，让我们把它们整理成层级结构。原型图中的子组件在层级结构中应该作为子节点。

* FilterableProductTable
	* SearchBar
	* ProductTable
		* ProductCategoryRow
		* ProductRow
		




